# Next.js GitHub æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Next.js 15** å’Œ **GitHub API** çš„æ–‡æ¡£ç®¡ç†ç³»ç»Ÿï¼Œè®¾è®¡çµæ„Ÿæ¥è‡ª **Docusaurus**ï¼Œå¯ä»¥ç›´æ¥ä» GitHub ä»“åº“è¯»å– Markdown æ–‡æ¡£å¹¶æ¸²æŸ“æˆç¾è§‚çš„æ–‡æ¡£ç½‘ç«™ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **GitHub é©±åŠ¨**: æ— éœ€æ•°æ®åº“ï¼Œç›´æ¥ä» GitHub è¯»å– Markdown
- ğŸ¨ **Docusaurus é£æ ¼å¸ƒå±€**: ç†Ÿæ‚‰çš„ä¸‰æ å¸ƒå±€ï¼ˆå¯¼èˆªæ ã€ä¾§è¾¹æ ã€å†…å®¹åŒºï¼‰
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: Next.js SSG/ISRï¼Œæé€ŸåŠ è½½
- ğŸ“± **å®Œå…¨å“åº”å¼**: ç§»åŠ¨ç«¯å‹å¥½
- ğŸ” **ä»£ç é«˜äº®**: æ”¯æŒå¤šç§è¯­è¨€
- ğŸ“‘ **è‡ªåŠ¨ç”Ÿæˆ**: ä¾§è¾¹æ å’Œç›®å½•è‡ªåŠ¨ç”Ÿæˆ
- ğŸ› ï¸ **æ˜“äºé…ç½®**: å•ä¸€é…ç½®æ–‡ä»¶ç®¡ç†æ‰€æœ‰è®¾ç½®

---

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æ¡†æ¶
- **Next.js 15**: App Router + React Server Components
- **TypeScript**: ç±»å‹å®‰å…¨
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶

### å†…å®¹å¤„ç†
- **gray-matter**: Frontmatter è§£æ
- **remark/rehype**: Markdown è½¬æ¢å’Œå¤„ç†
- **rehype-prism-plus**: ä»£ç è¯­æ³•é«˜äº®
- **reading-time**: é˜…è¯»æ—¶é—´ä¼°ç®—

### æ•°æ®æº
- **GitHub REST API**: è·å–ä»“åº“å†…å®¹
- **ISR (Incremental Static Regeneration)**: 60ç§’ç¼“å­˜æ›´æ–°

---

## é¡¹ç›®ç»“æ„

```
next_blog/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx             # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ globals.css          # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ docs/                # æ–‡æ¡£æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx       # æ–‡æ¡£å¸ƒå±€ï¼ˆå«ä¾§è¾¹æ ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # æ–‡æ¡£åˆ—è¡¨é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx     # å•ç¯‡æ–‡æ¡£é¡µ
â”‚   â”‚   â”œâ”€â”€ about/               # å…³äºé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ not-found.tsx        # 404é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx          # é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx         # å·¦ä¾§è¾¹æ ï¼ˆæ–‡æ¡£æ ‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ DocContent.tsx      # æ–‡æ¡£å†…å®¹å±•ç¤º
â”‚   â”‚   â””â”€â”€ TableOfContents.tsx # å³ä¾§ç›®å½•
â”‚   â”‚
â”‚   â””â”€â”€ lib/                     # æ ¸å¿ƒé€»è¾‘
â”‚       â”œâ”€â”€ github.ts           # GitHub API å°è£…
â”‚       â”œâ”€â”€ markdown.ts         # Markdown å¤„ç†
â”‚       â””â”€â”€ docs.ts             # æ–‡æ¡£ç®¡ç†é€»è¾‘
â”‚
â”œâ”€â”€ blog.config.ts              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ next.config.ts              # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.ts          # Tailwind é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ .env.local.example          # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore
â”‚
â””â”€â”€ æ–‡æ¡£/
    â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
    â”œâ”€â”€ QUICKSTART.md           # å¿«é€Ÿå¼€å§‹
    â”œâ”€â”€ USAGE.md                # ä½¿ç”¨æŒ‡å—
    â””â”€â”€ DEPLOYMENT.md           # éƒ¨ç½²æŒ‡å—
```

---

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### 1. GitHub å†…å®¹è·å– (`src/lib/github.ts`)

æä¾›ä¸‰ä¸ªæ ¸å¿ƒå‡½æ•°ï¼š

- **`getGitHubFiles(path)`**: è·å–æŒ‡å®šç›®å½•çš„ Markdown æ–‡ä»¶åˆ—è¡¨
- **`getFileContent(path)`**: è·å–å•ä¸ªæ–‡ä»¶çš„åŸå§‹å†…å®¹
- **`getDirectoryTree()`**: é€’å½’è·å–æ•´ä¸ªæ–‡æ¡£æ ‘ç»“æ„

### 2. Markdown å¤„ç† (`src/lib/markdown.ts`)

- **`markdownToHtml(markdown)`**: å°† Markdown è½¬æ¢ä¸ºå¸¦æ ·å¼çš„ HTML
- **`extractToc(markdown)`**: æå–æ ‡é¢˜ç”Ÿæˆç›®å½•ç»“æ„
- è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼šè‡ªåŠ¨ä¸º HTML å…ƒç´ æ·»åŠ  Tailwind CSS ç±»

### 3. æ–‡æ¡£ç®¡ç† (`src/lib/docs.ts`)

- **`getAllDocs()`**: è·å–æ‰€æœ‰æ–‡æ¡£ï¼ˆå«å…ƒæ•°æ®ï¼‰
- **`getDocBySlug(slug)`**: æ ¹æ® slug è·å–å•ç¯‡æ–‡æ¡£
- **`getDocByPath(path)`**: æ ¹æ® GitHub è·¯å¾„è·å–æ–‡æ¡£
- **`generateSidebar()`**: è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ æ ‘å½¢ç»“æ„

### 4. å¸ƒå±€ç»„ä»¶

#### Navbarï¼ˆå¯¼èˆªæ ï¼‰
- å“åº”å¼è®¾è®¡
- ç§»åŠ¨ç«¯æ±‰å ¡èœå•
- å¯é…ç½®çš„å¯¼èˆªé¡¹

#### Sidebarï¼ˆä¾§è¾¹æ ï¼‰
- æ ‘å½¢ç»“æ„å±•ç¤º
- æŠ˜å /å±•å¼€åŠŸèƒ½
- å½“å‰é¡µé¢é«˜äº®
- è‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨é…ç½®

#### TableOfContentsï¼ˆç›®å½•ï¼‰
- åŸºäºæ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ
- æ»šåŠ¨è·Ÿè¸ªå½“å‰ä½ç½®
- å¹³æ»‘æ»šåŠ¨è·³è½¬

#### DocContentï¼ˆå†…å®¹åŒºï¼‰
- æ–‡æ¡£å…ƒæ•°æ®å±•ç¤º
- Markdown æ¸²æŸ“
- ä»£ç é«˜äº®
- é˜…è¯»æ—¶é—´ä¼°ç®—

---

## é…ç½®ç³»ç»Ÿ

### ä¸»é…ç½®æ–‡ä»¶ (`blog.config.ts`)

```typescript
export const blogConfig = {
  // GitHub é…ç½®
  github: {
    repo: 'username/repo',      // ä»“åº“åœ°å€
    branch: 'main',             // åˆ†æ”¯å
    docsPath: 'docs',           // æ–‡æ¡£ç›®å½•
    token: process.env.GITHUB_TOKEN,
  },

  // ç«™ç‚¹é…ç½®
  site: {
    name: 'Documentation',
    description: 'åŸºäº GitHub çš„æ–‡æ¡£ç³»ç»Ÿ',
    url: 'https://yourdomain.com',
  },

  // å¯¼èˆªé…ç½®
  navbar: {
    title: 'Docs',
    items: [
      { label: 'æ–‡æ¡£', href: '/docs' },
      { label: 'å…³äº', href: '/about' },
    ],
  },

  // ä¾§è¾¹æ é…ç½®
  sidebar: {
    auto: true,  // è‡ªåŠ¨ç”Ÿæˆ
  },
};
```

### ç¯å¢ƒå˜é‡ (`.env.local`)

```env
GITHUB_REPO=username/repo
GITHUB_TOKEN=ghp_xxxxx
NEXT_PUBLIC_SITE_NAME=My Docs
NEXT_PUBLIC_SITE_DESCRIPTION=Documentation Site
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
```

---

## æ–‡æ¡£æ ¼å¼è§„èŒƒ

### Frontmatter ç»“æ„

```markdown
---
title: "æ–‡æ¡£æ ‡é¢˜"              # å¿…éœ€
description: "ç®€çŸ­æè¿°"        # å¯é€‰
date: "2024-01-01"            # å¯é€‰
category: "åˆ†ç±»"               # å¯é€‰
tags: ["tag1", "tag2"]        # å¯é€‰
author: "ä½œè€…"                 # å¯é€‰
---

# æ­£æ–‡æ ‡é¢˜

æ–‡æ¡£å†…å®¹...
```

### æ”¯æŒçš„ Markdown åŠŸèƒ½

- âœ… æ ‡é¢˜ (H1-H6)
- âœ… æ®µè½ã€æ¢è¡Œ
- âœ… ç²—ä½“ã€æ–œä½“ã€åˆ é™¤çº¿
- âœ… æœ‰åºåˆ—è¡¨ã€æ— åºåˆ—è¡¨
- âœ… ä»£ç å—ï¼ˆå¸¦è¯­æ³•é«˜äº®ï¼‰
- âœ… è¡Œå†…ä»£ç 
- âœ… å¼•ç”¨å—
- âœ… è¡¨æ ¼
- âœ… å›¾ç‰‡
- âœ… é“¾æ¥
- âœ… GFM æ‰©å±•ï¼ˆä»»åŠ¡åˆ—è¡¨ã€è‡ªåŠ¨é“¾æ¥ç­‰ï¼‰

---

## å·¥ä½œæµç¨‹

### 1. å†…å®¹å‘å¸ƒæµç¨‹

```
å¼€å‘è€… â†’ GitHub ä»“åº“ â†’ æ¨é€ Markdown
                           â†“
                    Next.js æ£€æµ‹æ›´æ–°
                           â†“
                    GitHub API è·å–å†…å®¹
                           â†“
                    Markdown è§£æå’Œæ¸²æŸ“
                           â†“
                    ç”Ÿæˆé™æ€é¡µé¢
                           â†“
                    ç”¨æˆ·è®¿é—®ç½‘ç«™
```

### 2. ç¼“å­˜ç­–ç•¥

- **ISR**: 60ç§’åé‡æ–°éªŒè¯å†…å®¹
- **GitHub API**: 60ç§’ç¼“å­˜
- **ä¾§è¾¹æ **: 5åˆ†é’Ÿç¼“å­˜

### 3. æ„å»ºæµç¨‹

```bash
npm run dev     # å¼€å‘æ¨¡å¼ï¼ˆå®æ—¶æ›´æ–°ï¼‰
npm run build   # æ„å»ºé™æ€é¡µé¢
npm start       # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```

---

## éƒ¨ç½²é€‰é¡¹

### 1. Vercelï¼ˆæ¨èï¼‰
- ä¸€é”®éƒ¨ç½²
- è‡ªåŠ¨ CI/CD
- å…¨çƒ CDN
- ç¯å¢ƒå˜é‡ç®¡ç†

### 2. Netlify
- æ”¯æŒ Next.js
- è‡ªåŠ¨éƒ¨ç½²
- è¡¨å•å¤„ç†
- Serverless å‡½æ•°

### 3. Docker
- å®¹å™¨åŒ–éƒ¨ç½²
- è·¨å¹³å°
- æ˜“äºæ‰©å±•

### 4. è‡ªæ‰˜ç®¡
- VPS/æœåŠ¡å™¨
- PM2 è¿›ç¨‹ç®¡ç†
- Nginx åå‘ä»£ç†

è¯¦è§ [DEPLOYMENT.md](./DEPLOYMENT.md)

---

## æ€§èƒ½ä¼˜åŒ–

### 1. é™æ€ç”Ÿæˆ
- æ‰€æœ‰æ–‡æ¡£é¡µé¢é¢„ç”Ÿæˆ
- ISR å¢é‡æ›´æ–°
- å¿«é€Ÿé¦–æ¬¡åŠ è½½

### 2. ä»£ç åˆ†å‰²
- åŠ¨æ€å¯¼å…¥ç»„ä»¶
- è·¯ç”±çº§ä»£ç åˆ†å‰²
- å‡å°‘ bundle å¤§å°

### 3. å›¾ç‰‡ä¼˜åŒ–
- Next.js Image ç»„ä»¶
- è‡ªåŠ¨ WebP è½¬æ¢
- å“åº”å¼å›¾ç‰‡

### 4. ç¼“å­˜ç­–ç•¥
- API è¯·æ±‚ç¼“å­˜
- é™æ€èµ„æº CDN
- æµè§ˆå™¨ç¼“å­˜

---

## æ‰©å±•å’Œè‡ªå®šä¹‰

### æ·»åŠ æ–°åŠŸèƒ½

#### 1. æ·»åŠ æœç´¢åŠŸèƒ½
```typescript
// src/components/Search.tsx
export default function Search() {
  // å®ç°æœç´¢é€»è¾‘
}
```

#### 2. æ·»åŠ è¯„è®ºç³»ç»Ÿ
é›†æˆ Giscusã€Disqus ç­‰

#### 3. æ·»åŠ æ·±è‰²æ¨¡å¼
ä½¿ç”¨ `next-themes` åŒ…

#### 4. æ·»åŠ å›½é™…åŒ–
ä½¿ç”¨ `next-intl` åŒ…

### è‡ªå®šä¹‰æ ·å¼

ä¿®æ”¹ `tailwind.config.ts`:

```typescript
theme: {
  extend: {
    colors: {
      primary: {
        // è‡ªå®šä¹‰é¢œè‰²
      },
    },
    typography: {
      // è‡ªå®šä¹‰æ’ç‰ˆ
    },
  },
}
```

---

## å¸¸è§é—®é¢˜

### Q1: GitHub API é™æµæ€ä¹ˆåŠï¼Ÿ
**A**: ä½¿ç”¨ GitHub Token å¯ä»¥æé«˜é™é¢åˆ° 5000æ¬¡/å°æ—¶ã€‚

### Q2: å¦‚ä½•æ”¯æŒç§æœ‰ä»“åº“ï¼Ÿ
**A**: ä½¿ç”¨å…·æœ‰ `repo` æƒé™çš„ GitHub Tokenã€‚

### Q3: å¦‚ä½•ä¿®æ”¹æ–‡æ¡£è·¯å¾„ï¼Ÿ
**A**: åœ¨ `blog.config.ts` ä¸­ä¿®æ”¹ `docsPath` é…ç½®ã€‚

### Q4: å¦‚ä½•è‡ªå®šä¹‰ä¾§è¾¹æ ï¼Ÿ
**A**: è®¾ç½® `sidebar.auto = false`ï¼Œç„¶åæ‰‹åŠ¨é…ç½® `sidebar.items`ã€‚

### Q5: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼Ÿ
**A**: åœ¨ `src/app/` ä¸‹åˆ›å»ºæ–°ç›®å½•å’Œ `page.tsx`ã€‚

---

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»º
npm run build

# è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
npm start
```

### è°ƒè¯•

```bash
# æŸ¥çœ‹ GitHub API å“åº”
console.log() åœ¨ src/lib/github.ts

# æŸ¥çœ‹ Markdown æ¸²æŸ“
æ£€æŸ¥ src/lib/markdown.ts

# æŸ¥çœ‹è·¯ç”±
è®¿é—® http://localhost:3000
```

### è´¡çŒ®ä»£ç 

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

---

## é¡¹ç›®ç‰¹ç‚¹å¯¹æ¯”

| ç‰¹æ€§ | æœ¬é¡¹ç›® | Docusaurus | VuePress |
|------|--------|-----------|----------|
| æ•°æ®æº | GitHub | æœ¬åœ°æ–‡ä»¶ | æœ¬åœ°æ–‡ä»¶ |
| æ¡†æ¶ | Next.js | React | Vue |
| SSG | âœ… | âœ… | âœ… |
| ISR | âœ… | âŒ | âŒ |
| è‡ªåŠ¨éƒ¨ç½² | âœ… | éœ€é…ç½® | éœ€é…ç½® |
| å­¦ä¹ æ›²çº¿ | ä½ | ä¸­ | ä½ |
| è‡ªå®šä¹‰æ€§ | é«˜ | é«˜ | ä¸­ |

---

## è·¯çº¿å›¾

### v1.0ï¼ˆå½“å‰ï¼‰
- âœ… åŸºç¡€æ–‡æ¡£å±•ç¤º
- âœ… GitHub é›†æˆ
- âœ… Markdown æ¸²æŸ“
- âœ… å“åº”å¼è®¾è®¡

### v1.1ï¼ˆè®¡åˆ’ä¸­ï¼‰
- â¬œ å…¨æ–‡æœç´¢
- â¬œ æ·±è‰²æ¨¡å¼
- â¬œ å¤šè¯­è¨€æ”¯æŒ
- â¬œ è¯„è®ºç³»ç»Ÿ

### v2.0ï¼ˆæœªæ¥ï¼‰
- â¬œ å†…ç½®ç¼–è¾‘å™¨
- â¬œ ç‰ˆæœ¬ç®¡ç†
- â¬œ åä½œåŠŸèƒ½
- â¬œ åˆ†æç»Ÿè®¡

---

## ç›¸å…³èµ„æº

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Tailwind CSS](https://tailwindcss.com)
- [GitHub API](https://docs.github.com/rest)
- [Remark](https://remark.js.org)
- [Docusaurus](https://docusaurus.io)

---

## è®¸å¯è¯

MIT License - è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

---

## è”ç³»æ–¹å¼

- GitHub Issues: æŠ¥å‘Šé—®é¢˜å’Œå»ºè®®
- Pull Requests: æ¬¢è¿è´¡çŒ®ä»£ç 
- Discussions: æŠ€æœ¯è®¨è®ºå’Œäº¤æµ

---

**Happy Documenting! ğŸ“š**
